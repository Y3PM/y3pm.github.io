<!--
 * @Description: 
 * @Author: o(*￣︶￣*)o
 * @Date: 2021-08-19 10:59:50
-->

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>clock　</title>
    <script src="./calendar.js"></script>
    <style>
        * {
          padding: 0;
          margin: 0;
        }
        body {
          color: #000000;
          background-color: #ffffff;
          font-family:
-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
        }
        .page {
          position: fixed;
          width: 100%;
          height: 100%;
        }
        .time_container,
        .date_container {
          width: 100%;
          margin: auto;
          text-align: center;
        }

        .time_container {
          top: 0;
          height: 50%;
          font-weight: bold;
        }

        .time {
          padding-top: calc(50% - 280px);
          font-size: 280px;
          line-height: 100%;
        }

        .date_container {
          font-size: 120px;
          line-height: 150%;
          font-weight: normal;
        }
        

    </style>
</head>

<body>
    <div class="page">
      <div class="time_container">
          <div class="time" id="time"></div>
      </div>

      <div class="date_container">
          <div id="date"></div>
          <div id="solarlunar"></div>
          <div id="week"></div>
      </div>
      
    </div>
    <script>
      function update() {
        var date = new Date()
        var utc8DiffMinutes = date.getTimezoneOffset() + 480
        date.setMinutes(date.getMinutes() + utc8DiffMinutes)

        var timeString = date.getHours() + ':' + ('0' + date.getMinutes()).slice(-2)
        document.getElementById("time").innerHTML = timeString

        // 农历来源：https://blog.jjonline.cn/userInterFace/173.html
        var lunar = calendar.solar2lunar();

        document.getElementById("week").innerHTML = lunar.ncWeek

        // 如果阳历是节日，展示阳历节日
        if (lunar.festival == null) {
          document.getElementById("date").innerHTML = lunar.cMonth+'月'+lunar.cDay+'日'
        }
        else {
          document.getElementById("date").innerHTML = lunar.festival
        }

        // 如果阴历是节日，展示阴历节日
        if (lunar.lunarFestival == null) {
          document.getElementById("solarlunar").innerHTML='农历'+lunar.IMonthCn+lunar.IDayCn
        }
        else {
          document.getElementById("solarlunar").innerHTML = lunar.lunarFestival
        }        

        // lunar.festival 阳历节日
        // lunar.lunarFestival 阴历节日

        // lunar.Animal: "兔",
        // lunar.IDayCn: "初十",
        // lunar.IMonthCn: "九月",
        // lunar.Term: null,
        // lunar.astro: "天蝎座",
        // lunar.cDay: 1,
        // lunar.cMonth: 11,
        // lunar.cYear: 1987,
        // lunar.gzDay: "甲寅",
        // lunar.gzMonth: "庚戌",
        // lunar.gzYear: "丁卯",
        // lunar.isLeap: false,
        // lunar.isTerm: false,
        // lunar.isToday: false,
        // lunar.lDay: 10,
        // lunar.lMonth: 9,
        // lunar.lYear: 1987,
        // lunar.nWeek: 7,
        // lunar.ncWeek: "星期日"
      }

      update()
      setInterval("update()", 60 * 1000)
    </script>
</body>
</html>